library(shiny)
library(tidyverse)
library(data.table)
library(plotly)
library(stats)


life_expectancy <-
  data.table::fread(
    input = "13100114.csv",
    sep = ",",
    header = T,
    stringsAsFactors = F,
    verbose = T,
    data.table = F,
    select = c("REF_DATE", "GEO", "Age group", "Sex", "Element", "VALUE")
  )
life_expectancy <- as_tibble(life_expectancy)
life_expectancy <-
  life_expectancy %>%
  filter(`Age group` == "0 years" &
           Element == "Life expectancy (in years) at age x (ex)") %>%
  select(-c(`Age group`, Element))

life_expectancy$REF_DATE <-
  as.integer(substr(life_expectancy$REF_DATE, 1, 4))

life_expectancy$VALUE <- as.numeric(life_expectancy$VALUE)
life_expectancy$GEO <- as.factor(life_expectancy$GEO)
life_expectancy$Sex <- as.factor(life_expectancy$Sex)

regions <- c(
  "Canada",
  "British Columbia",
  "Alberta",
  "Saskatchewan",
  "Manitoba",
  "Ontario",
  "Quebec",
  "Nova Scotia",
  "New Brunswick",
  "Newfoundland and Labrador"
)
regionLabel<-"Select Region:"

genders <-  c(
  "Both" = "Both sexes",
  "Female" = "Females", 
  "Male" = "Males"
)
genderLabel <- "Select Gender:"

selectAllLabel <- "All"
selectNoneLabel <- "None"